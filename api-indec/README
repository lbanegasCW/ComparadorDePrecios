# API INDEC (Integración)

API REST principal del sistema. Centraliza datos de países/provincias/localidades y consolida sucursales/productos provenientes de los servicios de supermercados.

## Stack

- Java 17
- Spring Boot
- SQL Server

## Puerto y URL base

- Puerto: `8080`
- Base URL: `http://localhost:8080/api/v1`

## Endpoints principales

### Geografía

- `GET /paises`
- `GET /paises/{cod_pais}`
- `GET /provincias`
- `GET /provincias/{cod_provincia}?codPais={cod_pais}`
- `GET /paises/{cod_pais}/provincias`
- `GET /localidades`
- `GET /localidades/{nro_localidad}`
- `GET /provincias/{cod_provincia}/localidades?codPais={cod_pais}`

### Supermercados y sucursales

- `GET /supermercados`
- `GET /supermercados/{nro_supermercado}`
- `GET /sucursales`
- `GET /sucursales/{nro_sucursal}?supermercadoId={nro_supermercado}`
- `GET /supermercados/{nro_supermercado}/sucursales`
- `GET /sucursales/cerca?lat={lat}&lon={lon}&radio={km}`
- `POST /sucursales/actualizar`

## Ejemplos rápidos

```bash
curl http://localhost:8080/api/v1/paises
curl "http://localhost:8080/api/v1/sucursales?supermercadoId=1"
curl -X POST http://localhost:8080/api/v1/sucursales/actualizar
```

## Dependencias de integración

Para obtener datos completos, esta API espera que estén disponibles:

- `api-super1` (SOAP)
- `api-super2` (REST)
- `api-super3` (SOAP)
- `api-super4` (REST)

## Desarrollo local

```bash
./mvnw spring-boot:run
```

Con Docker (desde raíz del monorepo):

```bash
docker compose -f docker/dev/docker-compose.yml up -d api-indec
```
